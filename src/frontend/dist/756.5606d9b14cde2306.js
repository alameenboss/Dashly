"use strict";(self.webpackChunkdashly=self.webpackChunkdashly||[]).push([[756],{5756:(ye,x,h)=>{h.r(x),h.d(x,{VideoPlayerModule:()=>me});var g=h(6895),I=h(144),t=h(4650),N=h(2340),L=h(529);let Y=(()=>{class i{constructor(e){this.http=e,this.fileUrl=N.N.apiUrl+"/files"}getDrives(){return this.http.get(this.fileUrl+"/GetDrives")}getFiles(e){return this.http.get(this.fileUrl+"/GetFiles?path="+e)}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(L.eN))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function Z(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"li",1),t.NdJ("click",function(){const o=t.CHM(e).$implicit,a=t.oxw();return t.KtG(a.getFiles(o))}),t._uU(1),t.qZA()}if(2&i){const e=n.$implicit;t.xp6(1),t.hij(" ",e," ")}}function q(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"li",1),t.NdJ("click",function(){const o=t.CHM(e).$implicit,a=t.oxw();return t.KtG(a.getFiles(o))}),t._uU(1),t.qZA()}if(2&i){const e=n.$implicit;t.xp6(1),t.hij(" ",e," ")}}function j(i,n){if(1&i&&(t.TgZ(0,"li"),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.xp6(1),t.hij(" ",e," ")}}let B=(()=>{class i{constructor(e){this.fileService=e}ngOnInit(){this.getDrives()}getDrives(){this.fileService.getDrives().subscribe(e=>{this.drives=e})}getFiles(e){this.fileService.getFiles(e).subscribe(s=>{this.fileandfolder=s,console.log(this.fileandfolder)})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(Y))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-play-lists"]],decls:8,vars:3,consts:[[3,"click",4,"ngFor","ngForOf"],[3,"click"],[4,"ngFor","ngForOf"]],template:function(e,s){1&e&&(t.TgZ(0,"ul"),t.YNc(1,Z,2,1,"li",0),t.qZA(),t._UZ(2,"hr"),t.TgZ(3,"ul")(4,"li",1),t.NdJ("click",function(){return s.getFiles(s.previousFolder)}),t._uU(5,".. (previous)"),t.qZA(),t.YNc(6,q,2,1,"li",0),t.YNc(7,j,2,1,"li",2),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngForOf",s.drives),t.xp6(5),t.Q6J("ngForOf",null==s.fileandfolder?null:s.fileandfolder.folders),t.xp6(1),t.Q6J("ngForOf",null==s.fileandfolder?null:s.fileandfolder.files))},dependencies:[g.sg]}),i})();var F=h(7579),l=h(4968),z=h(9751),J=h(9841),R=h(5963),X=h(4004);const Q=["*"];let c=(()=>{class i{}return i.VG_ENDED="ended",i.VG_PAUSED="paused",i.VG_PLAYING="playing",i.VG_LOADING="waiting",i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),d=(()=>{class i{constructor(){this.medias={},this.playerReadyEvent=new t.vpe(!0),this.isPlayerReady=!1}onPlayerReady(e){this.fsAPI=e,this.isPlayerReady=!0,this.playerReadyEvent.emit(this)}getDefaultMedia(){for(const e in this.medias)if(this.medias[e])return this.medias[e]}getMasterMedia(){let e;for(const s in this.medias)if("true"===this.medias[s].vgMaster||!0===this.medias[s].vgMaster){e=this.medias[s];break}return e||this.getDefaultMedia()}isMasterDefined(){let e=!1;for(const s in this.medias)if("true"===this.medias[s].vgMaster||!0===this.medias[s].vgMaster){e=!0;break}return e}getMediaById(e=null){let s=this.medias[e];return(!e||"*"===e)&&(s=this),s}play(){for(const e in this.medias)this.medias[e]&&this.medias[e].play()}pause(){for(const e in this.medias)this.medias[e]&&this.medias[e].pause()}get duration(){return this.$$getAllProperties("duration")}set currentTime(e){this.$$setAllProperties("currentTime",e)}get currentTime(){return this.$$getAllProperties("currentTime")}set state(e){this.$$setAllProperties("state",e)}get state(){return this.$$getAllProperties("state")}set volume(e){this.$$setAllProperties("volume",e)}get volume(){return this.$$getAllProperties("volume")}set playbackRate(e){this.$$setAllProperties("playbackRate",e)}get playbackRate(){return this.$$getAllProperties("playbackRate")}get canPlay(){return this.$$getAllProperties("canPlay")}get canPlayThrough(){return this.$$getAllProperties("canPlayThrough")}get isMetadataLoaded(){return this.$$getAllProperties("isMetadataLoaded")}get isWaiting(){return this.$$getAllProperties("isWaiting")}get isCompleted(){return this.$$getAllProperties("isCompleted")}get isLive(){return this.$$getAllProperties("isLive")}get isMaster(){return this.$$getAllProperties("isMaster")}get time(){return this.$$getAllProperties("time")}get buffer(){return this.$$getAllProperties("buffer")}get buffered(){return this.$$getAllProperties("buffered")}get subscriptions(){return this.$$getAllProperties("subscriptions")}get textTracks(){return this.$$getAllProperties("textTracks")}seekTime(e,s=!1){for(const r in this.medias)this.medias[r]&&this.$$seek(this.medias[r],e,s)}$$seek(e,s,r=!1){let o,a=e.duration;r?(this.isMasterDefined()&&(a=this.getMasterMedia().duration),o=s*a/100):o=s,e.currentTime=o}addTextTrack(e,s,r){for(const o in this.medias)this.medias[o]&&this.$$addTextTrack(this.medias[o],e,s,r)}$$addTextTrack(e,s,r,o){e.addTextTrack(s,r,o)}$$getAllProperties(e){const s={};let r;for(const a in this.medias)this.medias[a]&&(s[a]=this.medias[a]);switch(Object.keys(s).length){case 0:switch(e){case"state":r=c.VG_PAUSED;break;case"playbackRate":case"volume":r=1;break;case"time":r={current:0,total:0,left:0}}break;case 1:r=s[Object.keys(s)[0]][e];break;default:r=s[this.getMasterMedia().id][e]}return r}$$setAllProperties(e,s){for(const r in this.medias)this.medias[r]&&(this.medias[r][e]=s)}registerElement(e){this.videogularElement=e}registerMedia(e){this.medias[e.id]=e}unregisterMedia(e){delete this.medias[e.id]}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),f=(()=>{class i{constructor(){this.isHiddenSubject=new F.x,this.isHidden=this.isHiddenSubject.asObservable()}state(e){this.isHiddenSubject.next(e)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),m=(()=>{class i{static getZIndex(){let s,e=1;const r=document.getElementsByTagName("*");for(let o=0,a=r.length;o<a;o++)s=parseInt(window.getComputedStyle(r[o])["z-index"],10),s>e&&(e=s+1);return e}static isMobileDevice(){return typeof window.orientation<"u"||-1!==navigator.userAgent.indexOf("IEMobile")}static isiOSDevice(){return(navigator.userAgent.match(/ip(hone|ad|od)/i)||i.isIpadOS())&&!navigator.userAgent.match(/(iemobile)[\/\s]?([\w\.]*)/i)}static isIpadOS(){return navigator.maxTouchPoints&&navigator.maxTouchPoints>2&&/MacIntel/.test(navigator.platform)}static isCordova(){return-1===document.URL.indexOf("http://")&&-1===document.URL.indexOf("https://")}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),y=(()=>{class i{constructor(){this.nativeFullscreen=!0,this.isFullscreen=!1,this.onChangeFullscreen=new t.vpe}init(e,s){this.videogularElement=e,this.medias=s;const r={w3:{enabled:"fullscreenEnabled",element:"fullscreenElement",request:"requestFullscreen",exit:"exitFullscreen",onchange:"fullscreenchange",onerror:"fullscreenerror"},newWebkit:{enabled:"webkitFullscreenEnabled",element:"webkitFullscreenElement",request:"webkitRequestFullscreen",exit:"webkitExitFullscreen",onchange:"webkitfullscreenchange",onerror:"webkitfullscreenerror"},oldWebkit:{enabled:"webkitIsFullScreen",element:"webkitCurrentFullScreenElement",request:"webkitRequestFullScreen",exit:"webkitCancelFullScreen",onchange:"webkitfullscreenchange",onerror:"webkitfullscreenerror"},moz:{enabled:"mozFullScreen",element:"mozFullScreenElement",request:"mozRequestFullScreen",exit:"mozCancelFullScreen",onchange:"mozfullscreenchange",onerror:"mozfullscreenerror"},ios:{enabled:"webkitFullscreenEnabled",element:"webkitFullscreenElement",request:"webkitEnterFullscreen",exit:"webkitExitFullscreen",onchange:"webkitendfullscreen",onerror:"webkitfullscreenerror"},ms:{enabled:"msFullscreenEnabled",element:"msFullscreenElement",request:"msRequestFullscreen",exit:"msExitFullscreen",onchange:"MSFullscreenChange",onerror:"MSFullscreenError"}};for(const a in r)if(r[a].enabled in document){this.polyfill=r[a];break}if(m.isiOSDevice()&&(this.polyfill=r.ios),this.isAvailable=null!=this.polyfill,null==this.polyfill)return;let o;switch(this.polyfill.onchange){case"mozfullscreenchange":o=document;break;case"webkitendfullscreen":o=this.medias.toArray()[0].elem;break;default:o=e}this.fsChangeSubscription=(0,l.R)(o,this.polyfill.onchange).subscribe(()=>{this.onFullscreenChange()})}onFullscreenChange(){this.isFullscreen=!!document[this.polyfill.element],this.onChangeFullscreen.emit(this.isFullscreen)}toggleFullscreen(e=null){this.isFullscreen?this.exit():this.request(e)}request(e){e||(e=this.videogularElement),this.isFullscreen=!0,this.onChangeFullscreen.emit(!0),this.isAvailable&&this.nativeFullscreen&&(m.isMobileDevice()?((!this.polyfill.enabled&&e===this.videogularElement||m.isiOSDevice())&&(e=this.medias.toArray()[0].elem),this.enterElementInFullScreen(e)):this.enterElementInFullScreen(this.videogularElement))}enterElementInFullScreen(e){e[this.polyfill.request]()}exit(){this.isFullscreen=!1,this.onChangeFullscreen.emit(!1),this.isAvailable&&this.nativeFullscreen&&document[this.polyfill.exit]()}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),u=(()=>{class i{}return i.VG_ABORT="abort",i.VG_CAN_PLAY="canplay",i.VG_CAN_PLAY_THROUGH="canplaythrough",i.VG_DURATION_CHANGE="durationchange",i.VG_EMPTIED="emptied",i.VG_ENCRYPTED="encrypted",i.VG_ENDED="ended",i.VG_ERROR="error",i.VG_LOADED_DATA="loadeddata",i.VG_LOADED_METADATA="loadedmetadata",i.VG_LOAD_START="loadstart",i.VG_PAUSE="pause",i.VG_PLAY="play",i.VG_PLAYING="playing",i.VG_PROGRESS="progress",i.VG_RATE_CHANGE="ratechange",i.VG_SEEK="seek",i.VG_SEEKED="seeked",i.VG_SEEKING="seeking",i.VG_STALLED="stalled",i.VG_SUSPEND="suspend",i.VG_TIME_UPDATE="timeupdate",i.VG_VOLUME_CHANGE="volumechange",i.VG_WAITING="waiting",i.VG_LOAD="load",i.VG_ENTER="enter",i.VG_EXIT="exit",i.VG_START_ADS="startads",i.VG_END_ADS="endads",i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),v=(()=>{class i{constructor(e,s){this.api=e,this.ref=s,this.state=c.VG_PAUSED,this.time={current:0,total:0,left:0},this.buffer={end:0},this.canPlay=!1,this.canPlayThrough=!1,this.isMetadataLoaded=!1,this.isWaiting=!1,this.isCompleted=!1,this.isLive=!1,this.isBufferDetected=!1,this.checkInterval=200,this.currentPlayPos=0,this.lastPlayPos=0,this.playAtferSync=!1,this.bufferDetected=new F.x}ngOnInit(){this.elem=this.vgMedia.nodeName?this.vgMedia:this.vgMedia.elem,this.api.registerMedia(this),this.subscriptions={abort:(0,l.R)(this.elem,u.VG_ABORT),canPlay:(0,l.R)(this.elem,u.VG_CAN_PLAY),canPlayThrough:(0,l.R)(this.elem,u.VG_CAN_PLAY_THROUGH),durationChange:(0,l.R)(this.elem,u.VG_DURATION_CHANGE),emptied:(0,l.R)(this.elem,u.VG_EMPTIED),encrypted:(0,l.R)(this.elem,u.VG_ENCRYPTED),ended:(0,l.R)(this.elem,u.VG_ENDED),error:(0,l.R)(this.elem,u.VG_ERROR),loadedData:(0,l.R)(this.elem,u.VG_LOADED_DATA),loadedMetadata:(0,l.R)(this.elem,u.VG_LOADED_METADATA),loadStart:(0,l.R)(this.elem,u.VG_LOAD_START),pause:(0,l.R)(this.elem,u.VG_PAUSE),play:(0,l.R)(this.elem,u.VG_PLAY),playing:(0,l.R)(this.elem,u.VG_PLAYING),progress:(0,l.R)(this.elem,u.VG_PROGRESS),rateChange:(0,l.R)(this.elem,u.VG_RATE_CHANGE),seeked:(0,l.R)(this.elem,u.VG_SEEKED),seeking:(0,l.R)(this.elem,u.VG_SEEKING),stalled:(0,l.R)(this.elem,u.VG_STALLED),suspend:(0,l.R)(this.elem,u.VG_SUSPEND),timeUpdate:(0,l.R)(this.elem,u.VG_TIME_UPDATE),volumeChange:(0,l.R)(this.elem,u.VG_VOLUME_CHANGE),waiting:(0,l.R)(this.elem,u.VG_WAITING),startAds:(0,l.R)(window,u.VG_START_ADS),endAds:(0,l.R)(window,u.VG_END_ADS),mutation:new z.y(e=>{const s=new MutationObserver(r=>{e.next(r)});return s.observe(this.elem,{childList:!0,attributes:!0}),()=>{s.disconnect()}}),bufferDetected:this.bufferDetected},this.mutationObs=this.subscriptions.mutation.subscribe(this.onMutation.bind(this)),this.canPlayObs=this.subscriptions.canPlay.subscribe(this.onCanPlay.bind(this)),this.canPlayThroughObs=this.subscriptions.canPlayThrough.subscribe(this.onCanPlayThrough.bind(this)),this.loadedMetadataObs=this.subscriptions.loadedMetadata.subscribe(this.onLoadMetadata.bind(this)),this.waitingObs=this.subscriptions.waiting.subscribe(this.onWait.bind(this)),this.progressObs=this.subscriptions.progress.subscribe(this.onProgress.bind(this)),this.endedObs=this.subscriptions.ended.subscribe(this.onComplete.bind(this)),this.playingObs=this.subscriptions.playing.subscribe(this.onStartPlaying.bind(this)),this.playObs=this.subscriptions.play.subscribe(this.onPlay.bind(this)),this.pauseObs=this.subscriptions.pause.subscribe(this.onPause.bind(this)),this.timeUpdateObs=this.subscriptions.timeUpdate.subscribe(this.onTimeUpdate.bind(this)),this.volumeChangeObs=this.subscriptions.volumeChange.subscribe(this.onVolumeChange.bind(this)),this.errorObs=this.subscriptions.error.subscribe(this.onError.bind(this)),this.vgMaster&&this.api.playerReadyEvent.subscribe(()=>{this.prepareSync()})}prepareSync(){const e=[];for(const s in this.api.medias)this.api.medias[s]&&e.push(this.api.medias[s].subscriptions.canPlay);this.canPlayAllSubscription=(0,J.a)(e).pipe((0,X.U)((...s)=>{s.some(a=>!!a?.target&&4===a.target.readyState)&&!this.syncSubscription&&(this.startSync(),this.syncSubscription.unsubscribe())})).subscribe()}startSync(){this.syncSubscription=(0,R.H)(0,1e3).subscribe(()=>{for(const e in this.api.medias)if(this.api.medias[e]!==this){const s=this.api.medias[e].currentTime-this.currentTime;s<-.3||s>.3?(this.playAtferSync=this.state===c.VG_PLAYING,this.pause(),this.api.medias[e].pause(),this.api.medias[e].currentTime=this.currentTime):this.playAtferSync&&(this.play(),this.api.medias[e].play(),this.playAtferSync=!1)}})}onMutation(e){for(let s=0,r=e.length;s<r;s++){const o=e[s];if("attributes"===o.type&&"src"===o.attributeName){if(o.target.src&&o.target.src.length>0&&o.target.src.indexOf("blob:")<0){this.loadMedia();break}}else if("childList"===o.type&&o.removedNodes.length&&"source"===o.removedNodes[0].nodeName.toLowerCase()){this.loadMedia();break}}}loadMedia(){this.vgMedia.pause(),this.vgMedia.currentTime=0,this.stopBufferCheck(),this.isBufferDetected=!0,this.bufferDetected.next(this.isBufferDetected),setTimeout(()=>this.vgMedia.load(),10)}play(){if(!(this.playPromise||this.state!==c.VG_PAUSED&&this.state!==c.VG_ENDED))return this.playPromise=this.vgMedia.play(),this.playPromise&&this.playPromise.then&&this.playPromise.catch&&this.playPromise.then(()=>{this.playPromise=null}).catch(()=>{this.playPromise=null}),this.playPromise}pause(){this.playPromise?this.playPromise.then(()=>{this.vgMedia.pause()}):this.vgMedia.pause()}get id(){let e;return this.vgMedia&&(e=this.vgMedia.id),e}get duration(){return this.vgMedia.duration===1/0?this.specifiedDuration:this.vgMedia.duration}set currentTime(e){this.vgMedia.currentTime=e}get currentTime(){return this.vgMedia.currentTime}set volume(e){this.vgMedia.volume=e}get volume(){return this.vgMedia.volume}set playbackRate(e){this.vgMedia.playbackRate=e}get playbackRate(){return this.vgMedia.playbackRate}get buffered(){return this.vgMedia.buffered}get textTracks(){return this.vgMedia.textTracks}onCanPlay(e){this.isBufferDetected=!1,this.bufferDetected.next(this.isBufferDetected),this.canPlay=!0,this.ref.detectChanges()}onCanPlayThrough(e){this.isBufferDetected=!1,this.bufferDetected.next(this.isBufferDetected),this.canPlayThrough=!0,this.ref.detectChanges()}onLoadMetadata(e){this.isMetadataLoaded=!0,this.time={current:0,left:0,total:1e3*this.duration},this.state=c.VG_PAUSED;const s=Math.round(this.time.total);this.isLive=s===1/0,this.ref.detectChanges()}onWait(e){this.isWaiting=!0,this.ref.detectChanges()}onComplete(e){this.isCompleted=!0,this.state=c.VG_ENDED,this.ref.detectChanges()}onStartPlaying(e){this.state=c.VG_PLAYING,this.ref.detectChanges()}onPlay(e){this.state=c.VG_PLAYING,this.vgMaster&&(!this.syncSubscription||this.syncSubscription.closed)&&this.startSync(),this.startBufferCheck(),this.ref.detectChanges()}onPause(e){this.state=c.VG_PAUSED,this.vgMaster&&(this.playAtferSync||this.syncSubscription.unsubscribe()),this.stopBufferCheck(),this.ref.detectChanges()}onTimeUpdate(e){const s=this.buffered.length-1;this.time={current:1e3*this.currentTime,total:this.time.total,left:1e3*(this.duration-this.currentTime)},s>=0&&(this.buffer={end:1e3*this.buffered.end(s)}),this.ref.detectChanges()}onProgress(e){const s=this.buffered.length-1;s>=0&&(this.buffer={end:1e3*this.buffered.end(s)}),this.ref.detectChanges()}onVolumeChange(e){this.ref.detectChanges()}onError(e){this.ref.detectChanges()}bufferCheck(){const e=1/this.checkInterval;this.currentPlayPos=this.currentTime,!this.isBufferDetected&&this.currentPlayPos<this.lastPlayPos+e&&(this.isBufferDetected=!0),this.isBufferDetected&&this.currentPlayPos>this.lastPlayPos+e&&(this.isBufferDetected=!1),this.bufferDetected.closed||this.bufferDetected.next(this.isBufferDetected),this.lastPlayPos=this.currentPlayPos}startBufferCheck(){this.checkBufferSubscription=(0,R.H)(0,this.checkInterval).subscribe(()=>{this.bufferCheck()})}stopBufferCheck(){this.checkBufferSubscription&&this.checkBufferSubscription.unsubscribe(),this.isBufferDetected=!1,this.bufferDetected.next(this.isBufferDetected)}seekTime(e,s=!1){let r;r=s?e*this.duration/100:e,this.currentTime=r}addTextTrack(e,s,r,o){const a=this.vgMedia.addTextTrack(e,s,r);return o&&(a.mode=o),a}ngOnDestroy(){this.vgMedia.src="",this.mutationObs?.unsubscribe(),this.canPlayObs?.unsubscribe(),this.canPlayThroughObs?.unsubscribe(),this.loadedMetadataObs?.unsubscribe(),this.waitingObs?.unsubscribe(),this.progressObs?.unsubscribe(),this.endedObs?.unsubscribe(),this.playingObs?.unsubscribe(),this.playObs?.unsubscribe(),this.pauseObs?.unsubscribe(),this.timeUpdateObs?.unsubscribe(),this.volumeChangeObs?.unsubscribe(),this.errorObs?.unsubscribe(),this.checkBufferSubscription?.unsubscribe(),this.syncSubscription?.unsubscribe(),this.bufferDetected?.complete(),this.bufferDetected?.unsubscribe(),this.api.unregisterMedia(this)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(d),t.Y36(t.sBO))},i.\u0275dir=t.lG2({type:i,selectors:[["","vgMedia",""]],inputs:{vgMedia:"vgMedia",vgMaster:"vgMaster"}}),i})(),O=(()=>{class i{constructor(e,s,r,o){this.api=s,this.fsAPI=r,this.controlsHidden=o,this.isFullscreen=!1,this.isNativeFullscreen=!1,this.areControlsHidden=!1,this.onPlayerReady=new t.vpe,this.onMediaReady=new t.vpe,this.subscriptions=[],this.elem=e.nativeElement,this.api.registerElement(this.elem)}ngAfterContentInit(){this.medias.toArray().forEach(e=>{this.api.registerMedia(e)}),this.fsAPI.init(this.elem,this.medias),this.subscriptions.push(this.fsAPI.onChangeFullscreen.subscribe(this.onChangeFullscreen.bind(this))),this.subscriptions.push(this.controlsHidden.isHidden.subscribe(this.onHideControls.bind(this))),this.api.onPlayerReady(this.fsAPI),this.onPlayerReady.emit(this.api)}onChangeFullscreen(e){this.fsAPI.nativeFullscreen?this.isNativeFullscreen=e:(this.isFullscreen=e,this.zIndex=e?m.getZIndex().toString():"auto")}onHideControls(e){this.areControlsHidden=e}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.SBq),t.Y36(d),t.Y36(y),t.Y36(f))},i.\u0275cmp=t.Xpm({type:i,selectors:[["vg-player"]],contentQueries:function(e,s,r){if(1&e&&t.Suo(r,v,5),2&e){let o;t.iGM(o=t.CRH())&&(s.medias=o)}},hostVars:8,hostBindings:function(e,s){2&e&&(t.Udp("z-index",s.zIndex),t.ekj("fullscreen",s.isFullscreen)("native-fullscreen",s.isNativeFullscreen)("controls-hidden",s.areControlsHidden))},outputs:{onPlayerReady:"onPlayerReady",onMediaReady:"onMediaReady"},features:[t._Bn([d,y,f])],ngContentSelectors:Q,decls:1,vars:0,template:function(e,s){1&e&&(t.F$t(),t.Hsn(0))},styles:["vg-player{font-family:videogular;position:relative;display:flex;width:100%;height:100%;overflow:hidden;background-color:#000}vg-player.fullscreen{position:fixed;left:0;top:0}vg-player.native-fullscreen.controls-hidden{cursor:none}\n"],encapsulation:2}),i})();const W=[d,f,y,m,u,c];let b=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({providers:[...W],imports:[g.ez]}),i})();const C=["*"],ee=["volumeBar"],te=function(i){return{dragging:i}};function ie(i,n){if(1&i&&(t.TgZ(0,"option",4),t._uU(1),t.qZA()),2&i){const e=n.$implicit;t.Q6J("value",e.id)("selected",!0===e.selected),t.xp6(1),t.hij(" ",e.label," ")}}function se(i,n){1&i&&(t.TgZ(0,"span"),t._uU(1,"LIVE"),t.qZA())}function ne(i,n){if(1&i&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"vgUtc"),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Oqu(t.xi3(2,1,e.getTime(),e.vgFormat))}}function ae(i,n){1&i&&t._UZ(0,"span",2)}let V=(()=>{class i{constructor(e,s,r){this.API=e,this.hidden=r,this.isAdsPlaying="initial",this.hideControls=!1,this.vgAutohide=!1,this.vgAutohideTime=3,this.subscriptions=[],this.elem=s.nativeElement}ngOnInit(){this.mouseMove$=(0,l.R)(this.API.videogularElement,"mousemove"),this.subscriptions.push(this.mouseMove$.subscribe(this.show.bind(this))),this.touchStart$=(0,l.R)(this.API.videogularElement,"touchstart"),this.subscriptions.push(this.touchStart$.subscribe(this.show.bind(this))),this.mouseClick$=(0,l.R)(this.API.videogularElement,"click"),this.subscriptions.push(this.mouseClick$.subscribe(this.show.bind(this))),this.API.isPlayerReady?this.onPlayerReady():this.subscriptions.push(this.API.playerReadyEvent.subscribe(()=>this.onPlayerReady()))}onPlayerReady(){this.target=this.API.getMediaById(this.vgFor),this.subscriptions.push(this.target.subscriptions.play.subscribe(this.onPlay.bind(this))),this.subscriptions.push(this.target.subscriptions.pause.subscribe(this.onPause.bind(this))),this.subscriptions.push(this.target.subscriptions.startAds.subscribe(this.onStartAds.bind(this))),this.subscriptions.push(this.target.subscriptions.endAds.subscribe(this.onEndAds.bind(this)))}ngAfterViewInit(){this.vgAutohide?this.hide():this.show()}onPlay(){this.vgAutohide&&this.hide()}onPause(){clearTimeout(this.timer),this.hideControls=!1,this.hidden.state(!1)}onStartAds(){this.isAdsPlaying="none"}onEndAds(){this.isAdsPlaying="initial"}hide(){this.vgAutohide&&(clearTimeout(this.timer),this.hideAsync())}show(){clearTimeout(this.timer),this.hideControls=!1,this.hidden.state(!1),this.vgAutohide&&this.hideAsync()}hideAsync(){this.API.state===c.VG_PLAYING&&(this.timer=setTimeout(()=>{this.hideControls=!0,this.hidden.state(!0)},1e3*this.vgAutohideTime))}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(d),t.Y36(t.SBq),t.Y36(f))},i.\u0275cmp=t.Xpm({type:i,selectors:[["vg-controls"]],hostVars:4,hostBindings:function(e,s){2&e&&(t.Udp("pointer-events",s.isAdsPlaying),t.ekj("hide",s.hideControls))},inputs:{vgFor:"vgFor",vgAutohide:"vgAutohide",vgAutohideTime:"vgAutohideTime"},ngContentSelectors:C,decls:1,vars:0,template:function(e,s){1&e&&(t.F$t(),t.Hsn(0))},styles:["vg-controls{position:absolute;display:flex;width:100%;height:50px;z-index:300;bottom:0;background-color:#00000080;transition:bottom 1s}vg-controls.hide{bottom:-50px}\n"],encapsulation:2}),i})(),k=(()=>{class i{constructor(e,s){this.API=s,this.subscriptions=[],this.elem=e.nativeElement,this.isDragging=!1}ngOnInit(){this.API.isPlayerReady?this.onPlayerReady():this.subscriptions.push(this.API.playerReadyEvent.subscribe(()=>this.onPlayerReady()))}onPlayerReady(){this.target=this.API.getMediaById(this.vgFor),this.ariaValue=100*this.getVolume()}onClick(e){this.setVolume(this.calculateVolume(e.clientX))}onMouseDown(e){this.mouseDownPosX=e.clientX,this.isDragging=!0}onDrag(e){this.isDragging&&this.setVolume(this.calculateVolume(e.clientX))}onStopDrag(e){this.isDragging&&(this.isDragging=!1,this.mouseDownPosX===e.clientX&&this.setVolume(this.calculateVolume(e.clientX)))}arrowAdjustVolume(e){38===e.keyCode||39===e.keyCode?(e.preventDefault(),this.setVolume(Math.max(0,Math.min(100,100*this.getVolume()+10)))):(37===e.keyCode||40===e.keyCode)&&(e.preventDefault(),this.setVolume(Math.max(0,Math.min(100,100*this.getVolume()-10))))}calculateVolume(e){const s=this.volumeBarRef.nativeElement.getBoundingClientRect();return(e-s.left)/s.width*100}setVolume(e){this.target.volume=Math.max(0,Math.min(1,e/100)),this.ariaValue=100*this.target.volume}getVolume(){return this.target?this.target.volume:0}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.SBq),t.Y36(d))},i.\u0275cmp=t.Xpm({type:i,selectors:[["vg-volume"]],viewQuery:function(e,s){if(1&e&&t.Gf(ee,7),2&e){let r;t.iGM(r=t.CRH())&&(s.volumeBarRef=r.first)}},hostBindings:function(e,s){1&e&&t.NdJ("mousemove",function(o){return s.onDrag(o)},!1,t.evT)("mouseup",function(o){return s.onStopDrag(o)},!1,t.evT)("keydown",function(o){return s.arrowAdjustVolume(o)})},inputs:{vgFor:"vgFor"},decls:5,vars:9,consts:[["tabindex","0","role","slider","aria-label","volume level","aria-level","polite","aria-valuemin","0","aria-valuemax","100","aria-orientation","horizontal",1,"volumeBar",3,"click","mousedown"],["volumeBar",""],[1,"volumeBackground",3,"ngClass"],[1,"volumeValue"],[1,"volumeKnob"]],template:function(e,s){1&e&&(t.TgZ(0,"div",0,1),t.NdJ("click",function(o){return s.onClick(o)})("mousedown",function(o){return s.onMouseDown(o)}),t.TgZ(2,"div",2),t._UZ(3,"div",3)(4,"div",4),t.qZA()()),2&e&&(t.uIk("aria-valuenow",s.ariaValue)("aria-valuetext",s.ariaValue+"%"),t.xp6(2),t.Q6J("ngClass",t.VKq(7,te,s.isDragging)),t.xp6(1),t.Udp("width",85*s.getVolume()+"%"),t.xp6(1),t.Udp("left",85*s.getVolume()+"%"))},dependencies:[g.mk],styles:["vg-volume{-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;display:flex;justify-content:center;height:50px;width:100px;cursor:pointer;color:#fff;line-height:50px}vg-volume .volumeBar{position:relative;display:flex;flex-grow:1;align-items:center}vg-volume .volumeBackground{display:flex;flex-grow:1;height:5px;pointer-events:none;background-color:#333}vg-volume .volumeValue{display:flex;height:5px;pointer-events:none;background-color:#fff;transition:all .2s ease-out}vg-volume .volumeKnob{position:absolute;width:15px;height:15px;left:0;top:50%;transform:translateY(-50%);border-radius:15px;pointer-events:none;background-color:#fff;transition:all .2s ease-out}vg-volume .volumeBackground.dragging .volumeValue,vg-volume .volumeBackground.dragging .volumeKnob{transition:none}\n"],encapsulation:2}),i})(),G=(()=>{class i{constructor(e,s){this.API=s,this.subscriptions=[],this.elem=e.nativeElement}ngOnInit(){this.API.isPlayerReady?this.onPlayerReady():this.subscriptions.push(this.API.playerReadyEvent.subscribe(()=>this.onPlayerReady()))}onPlayerReady(){this.target=this.API.getMediaById(this.vgFor);const e=Array.from(this.API.getMasterMedia().elem.children).filter(r=>"TRACK"===r.tagName).filter(r=>"subtitles"===r.kind).map(r=>({label:r.label,selected:!0===r.default,id:r.srclang}));this.tracks=[...e,{id:null,label:"Off",selected:e.every(r=>!1===r.selected)}];const s=this.tracks.filter(r=>!0===r.selected)[0];this.trackSelected=s.id,this.ariaValue=s.label}selectTrack(e){this.trackSelected="null"===e?null:e,this.ariaValue="No track selected",Array.from(this.API.getMasterMedia().elem.textTracks).forEach(s=>{s.language===e?(this.ariaValue=s.label,s.mode="showing"):s.mode="hidden"})}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.SBq),t.Y36(d))},i.\u0275cmp=t.Xpm({type:i,selectors:[["vg-track-selector"]],inputs:{vgFor:"vgFor"},decls:5,vars:5,consts:[[1,"container"],[1,"track-selected"],["tabindex","0","aria-label","track selector",1,"trackSelector",3,"change"],[3,"value","selected",4,"ngFor","ngForOf"],[3,"value","selected"]],template:function(e,s){1&e&&(t.TgZ(0,"div",0)(1,"div",1),t._uU(2),t.qZA(),t.TgZ(3,"select",2),t.NdJ("change",function(o){return s.selectTrack(o.target.value)}),t.YNc(4,ie,2,3,"option",3),t.qZA()()),2&e&&(t.xp6(1),t.ekj("vg-icon-closed_caption",!s.trackSelected),t.xp6(1),t.hij(" ",s.trackSelected||""," "),t.xp6(1),t.uIk("aria-valuetext",s.ariaValue),t.xp6(1),t.Q6J("ngForOf",s.tracks))},dependencies:[g.sg],styles:["vg-track-selector{-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;display:flex;justify-content:center;width:50px;height:50px;cursor:pointer;color:#fff;line-height:50px}vg-track-selector .container{position:relative;display:flex;flex-grow:1;align-items:center;padding:0;margin:5px}vg-track-selector select.trackSelector{width:50px;padding:5px 8px;border:none;background:none;-webkit-appearance:none;-moz-appearance:none;appearance:none;color:transparent;font-size:16px}vg-track-selector select.trackSelector::-ms-expand{display:none}vg-track-selector select.trackSelector option{color:#000}vg-track-selector .track-selected{position:absolute;width:100%;height:50px;top:-6px;text-align:center;text-transform:uppercase;font-family:Helvetica Neue,Helvetica,Arial,sans-serif;padding-top:2px;pointer-events:none}vg-track-selector .vg-icon-closed_caption:before{width:100%}\n"],encapsulation:2}),i})(),H=(()=>{class i{transform(e,s){let r=new Date(e),o=s,a=r.getUTCSeconds(),p=r.getUTCMinutes(),P=r.getUTCHours();return a<10&&(a="0"+a),p<10&&(p="0"+p),P<10&&(P="0"+P),o=o.replace(/ss/g,a),o=o.replace(/mm/g,p),o=o.replace(/hh/g,P),o}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275pipe=t.Yjl({name:"vgUtc",type:i,pure:!0}),i})(),_=(()=>{class i{constructor(e,s){this.API=s,this.vgProperty="current",this.vgFormat="mm:ss",this.subscriptions=[],this.elem=e.nativeElement}ngOnInit(){this.API.isPlayerReady?this.onPlayerReady():this.subscriptions.push(this.API.playerReadyEvent.subscribe(()=>this.onPlayerReady()))}onPlayerReady(){this.target=this.API.getMediaById(this.vgFor)}getTime(){let e=0;return this.target&&(e=Math.round(this.target.time[this.vgProperty]),e=isNaN(e)||this.target.isLive?0:e),e}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.SBq),t.Y36(d))},i.\u0275cmp=t.Xpm({type:i,selectors:[["vg-time-display"]],inputs:{vgFor:"vgFor",vgProperty:"vgProperty",vgFormat:"vgFormat"},ngContentSelectors:C,decls:3,vars:2,consts:[[4,"ngIf"]],template:function(e,s){1&e&&(t.F$t(),t.YNc(0,se,2,0,"span",0),t.YNc(1,ne,3,4,"span",0),t.Hsn(2)),2&e&&(t.Q6J("ngIf",null==s.target?null:s.target.isLive),t.xp6(1),t.Q6J("ngIf",!(null!=s.target&&s.target.isLive)))},dependencies:[g.O5,H],styles:["vg-time-display{-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;display:flex;justify-content:center;height:50px;width:60px;cursor:pointer;color:#fff;line-height:50px;pointer-events:none;font-family:Helvetica Neue,Helvetica,Arial,sans-serif}\n"],encapsulation:2}),i})(),A=(()=>{class i{constructor(e,s,r){this.API=s,this.hideScrubBar=!1,this.vgSlider=!0,this.isSeeking=!1,this.wasPlaying=!1,this.subscriptions=[],this.elem=e.nativeElement,this.subscriptions.push(r.isHidden.subscribe(o=>this.onHideScrubBar(o)))}ngOnInit(){this.API.isPlayerReady?this.onPlayerReady():this.subscriptions.push(this.API.playerReadyEvent.subscribe(()=>this.onPlayerReady()))}onPlayerReady(){this.target=this.API.getMediaById(this.vgFor)}seekStart(){this.target.canPlay&&(this.isSeeking=!0,this.target.state===c.VG_PLAYING&&(this.wasPlaying=!0),this.target.pause())}seekMove(e){if(this.isSeeking){const s=Math.max(Math.min(100*e/this.elem.scrollWidth,99.9),0);this.target.time.current=s*this.target.time.total/100,this.target.seekTime(s,!0)}}seekEnd(e){if(this.isSeeking=!1,this.target.canPlay){if(!1!==e){const s=Math.max(Math.min(100*e/this.elem.scrollWidth,99.9),0);this.target.seekTime(s,!0)}this.wasPlaying&&(this.wasPlaying=!1,this.target.play())}}touchEnd(){this.isSeeking=!1,this.wasPlaying&&(this.wasPlaying=!1,this.target.play())}getTouchOffset(e){let s=0,r=e.target;for(;r;)s+=r.offsetLeft,r=r.offsetParent;return e.touches[0].pageX-s}onMouseDownScrubBar(e){this.target&&(this.target.isLive||(this.vgSlider?this.seekStart():this.seekEnd(e.offsetX)))}onMouseMoveScrubBar(e){this.target&&!this.target.isLive&&this.vgSlider&&this.isSeeking&&this.seekMove(e.offsetX)}onMouseUpScrubBar(e){this.target&&!this.target.isLive&&this.vgSlider&&this.isSeeking&&this.seekEnd(e.offsetX)}onTouchStartScrubBar(e){this.target&&(this.target.isLive||(this.vgSlider?this.seekStart():this.seekEnd(!1)))}onTouchMoveScrubBar(e){this.target&&!this.target.isLive&&this.vgSlider&&this.isSeeking&&this.seekMove(this.getTouchOffset(e))}onTouchCancelScrubBar(e){this.target&&!this.target.isLive&&this.vgSlider&&this.isSeeking&&this.touchEnd()}onTouchEndScrubBar(e){this.target&&!this.target.isLive&&this.vgSlider&&this.isSeeking&&this.touchEnd()}arrowAdjustVolume(e){this.target&&(38===e.keyCode||39===e.keyCode?(e.preventDefault(),this.target.seekTime((this.target.time.current+5e3)/1e3,!1)):(37===e.keyCode||40===e.keyCode)&&(e.preventDefault(),this.target.seekTime((this.target.time.current-5e3)/1e3,!1)))}getPercentage(){return this.target?Math.round(100*this.target.time.current/this.target.time.total)+"%":"0%"}onHideScrubBar(e){this.hideScrubBar=e}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.SBq),t.Y36(d),t.Y36(f))},i.\u0275cmp=t.Xpm({type:i,selectors:[["vg-scrub-bar"]],hostVars:2,hostBindings:function(e,s){1&e&&t.NdJ("mousedown",function(o){return s.onMouseDownScrubBar(o)})("mousemove",function(o){return s.onMouseMoveScrubBar(o)},!1,t.evT)("mouseup",function(o){return s.onMouseUpScrubBar(o)},!1,t.evT)("touchstart",function(o){return s.onTouchStartScrubBar(o)})("touchmove",function(o){return s.onTouchMoveScrubBar(o)},!1,t.evT)("touchcancel",function(o){return s.onTouchCancelScrubBar(o)},!1,t.evT)("touchend",function(o){return s.onTouchEndScrubBar(o)},!1,t.evT)("keydown",function(o){return s.arrowAdjustVolume(o)}),2&e&&t.ekj("hide",s.hideScrubBar)},inputs:{vgFor:"vgFor",vgSlider:"vgSlider"},ngContentSelectors:C,decls:2,vars:2,consts:[["tabindex","0","role","slider","aria-label","scrub bar","aria-level","polite","aria-valuemin","0","aria-valuemax","100",1,"scrubBar"]],template:function(e,s){1&e&&(t.F$t(),t.TgZ(0,"div",0),t.Hsn(1),t.qZA()),2&e&&t.uIk("aria-valuenow",s.getPercentage())("aria-valuetext",s.getPercentage())},styles:["vg-scrub-bar{-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;position:absolute;width:100%;height:5px;bottom:50px;margin:0;cursor:pointer;align-items:center;background:rgba(0,0,0,.75);z-index:250;transition:bottom 1s,opacity .5s}vg-scrub-bar .scrubBar{position:relative;display:flex;flex-grow:1;align-items:center;height:100%}vg-controls vg-scrub-bar{position:relative;bottom:0;background:transparent;height:50px;flex-grow:1;flex-basis:0;margin:0 10px;transition:initial}vg-scrub-bar.hide{bottom:0;opacity:0}vg-controls vg-scrub-bar.hide{bottom:initial;opacity:initial}\n"],encapsulation:2}),i})(),S=(()=>{class i{constructor(e,s,r){this.API=s,this.cdr=r,this.subscriptions=[],this.ariaValue=1,this.elem=e.nativeElement,this.playbackValues=["0.5","1.0","1.5","2.0"],this.playbackIndex=1}ngOnInit(){this.API.isPlayerReady?this.onPlayerReady():this.subscriptions.push(this.API.playerReadyEvent.subscribe(()=>this.onPlayerReady()))}onPlayerReady(){this.target=this.API.getMediaById(this.vgFor)}onClick(){this.updatePlaybackSpeed()}onKeyDown(e){(13===e.keyCode||32===e.keyCode)&&(e.preventDefault(),this.updatePlaybackSpeed())}updatePlaybackSpeed(){this.playbackValues.forEach((e,s)=>{1===e.length&&(this.playbackValues[s]=e+".0")}),this.playbackIndex=++this.playbackIndex%this.playbackValues.length,this.target instanceof d?this.target.playbackRate=this.playbackValues[this.playbackIndex]:this.target.playbackRate[this.vgFor]=this.playbackValues[this.playbackIndex],this.detectChanges()}getPlaybackRate(){return this.ariaValue=this.target?this.target.playbackRate:1,this.ariaValue}detectChanges(){try{this.cdr.detectChanges()}catch(e){console.warn(e)}}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.SBq),t.Y36(d),t.Y36(t.sBO))},i.\u0275cmp=t.Xpm({type:i,selectors:[["vg-playback-button"]],hostBindings:function(e,s){1&e&&t.NdJ("click",function(){return s.onClick()})("keydown",function(o){return s.onKeyDown(o)})},inputs:{vgFor:"vgFor",playbackValues:"playbackValues"},decls:2,vars:2,consts:[["tabindex","0","role","button","aria-label","playback speed button",1,"button"]],template:function(e,s){1&e&&(t.TgZ(0,"span",0),t._uU(1),t.qZA()),2&e&&(t.uIk("aria-valuetext",s.ariaValue),t.xp6(1),t.hij(" ",s.getPlaybackRate(),"x "))},styles:["vg-playback-button{-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;display:flex;justify-content:center;height:50px;width:50px;cursor:pointer;color:#fff;line-height:50px;font-family:Helvetica Neue,Helvetica,Arial,sans-serif}vg-playback-button .button{display:flex;align-items:center;justify-content:center;width:50px}\n"],encapsulation:2}),i})(),M=(()=>{class i{constructor(e,s){this.API=s,this.subscriptions=[],this.ariaValue=c.VG_PAUSED,this.elem=e.nativeElement}ngOnInit(){this.API.isPlayerReady?this.onPlayerReady():this.subscriptions.push(this.API.playerReadyEvent.subscribe(()=>this.onPlayerReady()))}onPlayerReady(){this.target=this.API.getMediaById(this.vgFor)}onClick(){this.playPause()}onKeyDown(e){(13===e.keyCode||32===e.keyCode)&&(e.preventDefault(),this.playPause())}playPause(){switch(this.getState()){case c.VG_PLAYING:this.target.pause();break;case c.VG_PAUSED:case c.VG_ENDED:this.target.play()}}getState(){return this.ariaValue=this.target?this.target.state:c.VG_PAUSED,this.ariaValue}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.SBq),t.Y36(d))},i.\u0275cmp=t.Xpm({type:i,selectors:[["vg-play-pause"]],hostBindings:function(e,s){1&e&&t.NdJ("click",function(){return s.onClick()})("keydown",function(o){return s.onKeyDown(o)})},inputs:{vgFor:"vgFor"},decls:1,vars:6,consts:[["tabindex","0","role","button",1,"icon"]],template:function(e,s){1&e&&t._UZ(0,"div",0),2&e&&(t.ekj("vg-icon-pause","playing"===s.getState())("vg-icon-play_arrow","paused"===s.getState()||"ended"===s.getState()),t.uIk("aria-label","paused"===s.getState()?"play":"pause")("aria-valuetext",s.ariaValue))},styles:["vg-play-pause{-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;display:flex;justify-content:center;height:50px;width:50px;cursor:pointer;color:#fff;line-height:50px}vg-play-pause .icon{pointer-events:none}\n"],encapsulation:2}),i})(),D=(()=>{class i{constructor(e,s){this.API=s,this.subscriptions=[],this.ariaValue="unmuted",this.elem=e.nativeElement}ngOnInit(){this.API.isPlayerReady?this.onPlayerReady():this.subscriptions.push(this.API.playerReadyEvent.subscribe(()=>this.onPlayerReady()))}onPlayerReady(){this.target=this.API.getMediaById(this.vgFor),this.currentVolume=this.target.volume}onClick(){this.changeMuteState()}onKeyDown(e){(13===e.keyCode||32===e.keyCode)&&(e.preventDefault(),this.changeMuteState())}changeMuteState(){const e=this.getVolume();0===e?(0===this.target.volume&&0===this.currentVolume&&(this.currentVolume=1),this.target.volume=this.currentVolume):(this.currentVolume=e,this.target.volume=0)}getVolume(){const e=this.target?this.target.volume:0;return this.ariaValue=e?"unmuted":"muted",e}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.SBq),t.Y36(d))},i.\u0275cmp=t.Xpm({type:i,selectors:[["vg-mute"]],hostBindings:function(e,s){1&e&&t.NdJ("click",function(){return s.onClick()})("keydown",function(o){return s.onKeyDown(o)})},inputs:{vgFor:"vgFor"},decls:1,vars:9,consts:[["tabindex","0","role","button","aria-label","mute button",1,"icon"]],template:function(e,s){1&e&&t._UZ(0,"div",0),2&e&&(t.ekj("vg-icon-volume_up",s.getVolume()>=.75)("vg-icon-volume_down",s.getVolume()>=.25&&s.getVolume()<.75)("vg-icon-volume_mute",s.getVolume()>0&&s.getVolume()<.25)("vg-icon-volume_off",0===s.getVolume()),t.uIk("aria-valuetext",s.ariaValue))},styles:["vg-mute{-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;display:flex;justify-content:center;height:50px;width:50px;cursor:pointer;color:#fff;line-height:50px}vg-mute .icon{pointer-events:none}\n"],encapsulation:2}),i})(),T=(()=>{class i{constructor(e,s,r){this.API=s,this.fsAPI=r,this.isFullscreen=!1,this.subscriptions=[],this.ariaValue="normal mode",this.elem=e.nativeElement,this.subscriptions.push(this.fsAPI.onChangeFullscreen.subscribe(this.onChangeFullscreen.bind(this)))}ngOnInit(){this.API.isPlayerReady?this.onPlayerReady():this.subscriptions.push(this.API.playerReadyEvent.subscribe(()=>this.onPlayerReady()))}onPlayerReady(){this.target=this.API.getMediaById(this.vgFor)}onChangeFullscreen(e){this.ariaValue=e?"fullscreen mode":"normal mode",this.isFullscreen=e}onClick(){this.changeFullscreenState()}onKeyDown(e){(13===e.keyCode||32===e.keyCode)&&(e.preventDefault(),this.changeFullscreenState())}changeFullscreenState(){let e=this.target;this.target instanceof d&&(e=null),this.fsAPI.toggleFullscreen(e)}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.SBq),t.Y36(d),t.Y36(y))},i.\u0275cmp=t.Xpm({type:i,selectors:[["vg-fullscreen"]],hostBindings:function(e,s){1&e&&t.NdJ("click",function(){return s.onClick()})("keydown",function(o){return s.onKeyDown(o)})},decls:1,vars:5,consts:[["tabindex","0","role","button","aria-label","fullscreen button",1,"icon"]],template:function(e,s){1&e&&t._UZ(0,"div",0),2&e&&(t.ekj("vg-icon-fullscreen",!s.isFullscreen)("vg-icon-fullscreen_exit",s.isFullscreen),t.uIk("aria-valuetext",s.ariaValue))},styles:["vg-fullscreen{-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;display:flex;justify-content:center;height:50px;width:50px;cursor:pointer;color:#fff;line-height:50px}vg-fullscreen .icon{pointer-events:none}\n"],encapsulation:2}),i})(),w=(()=>{class i{constructor(e,s){this.API=s,this.subscriptions=[],this.elem=e.nativeElement}ngOnInit(){this.API.isPlayerReady?this.onPlayerReady():this.subscriptions.push(this.API.playerReadyEvent.subscribe(()=>this.onPlayerReady()))}onPlayerReady(){this.target=this.API.getMediaById(this.vgFor)}getBufferTime(){let e="0%";return this.target?.buffered?.length&&(e=0===this.target.time.total?"0%":this.target.buffer.end/this.target.time.total*100+"%"),e}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.SBq),t.Y36(d))},i.\u0275cmp=t.Xpm({type:i,selectors:[["vg-scrub-bar-buffering-time"]],inputs:{vgFor:"vgFor"},decls:1,vars:2,consts:[[1,"background"]],template:function(e,s){1&e&&t._UZ(0,"div",0),2&e&&t.Udp("width",s.getBufferTime())},styles:["vg-scrub-bar-buffering-time{display:flex;width:100%;height:5px;pointer-events:none;position:absolute}vg-scrub-bar-buffering-time .background{background-color:#ffffff4d}vg-controls vg-scrub-bar-buffering-time{position:absolute;top:calc(50% - 3px)}vg-controls vg-scrub-bar-buffering-time .background{border-radius:2px}\n"],encapsulation:2}),i})(),E=(()=>{class i{constructor(e,s){this.API=s,this.vgSlider=!1,this.subscriptions=[],this.elem=e.nativeElement}ngOnInit(){this.API.isPlayerReady?this.onPlayerReady():this.subscriptions.push(this.API.playerReadyEvent.subscribe(()=>this.onPlayerReady()))}onPlayerReady(){this.target=this.API.getMediaById(this.vgFor)}getPercentage(){return this.target?Math.round(100*this.target.time.current/this.target.time.total)+"%":"0%"}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.SBq),t.Y36(d))},i.\u0275cmp=t.Xpm({type:i,selectors:[["vg-scrub-bar-current-time"]],inputs:{vgFor:"vgFor",vgSlider:"vgSlider"},decls:2,vars:3,consts:[[1,"background"],["class","slider",4,"ngIf"],[1,"slider"]],template:function(e,s){1&e&&(t._UZ(0,"div",0),t.YNc(1,ae,1,0,"span",1)),2&e&&(t.Udp("width",s.getPercentage()),t.xp6(1),t.Q6J("ngIf",s.vgSlider))},dependencies:[g.O5],styles:["vg-scrub-bar-current-time{display:flex;width:100%;height:5px;pointer-events:none;position:absolute}vg-scrub-bar-current-time .background{background-color:#fff}vg-controls vg-scrub-bar-current-time{position:absolute;top:calc(50% - 3px);border-radius:2px}vg-controls vg-scrub-bar-current-time .background{border:1px solid white;border-radius:2px}vg-scrub-bar-current-time .slider{background:white;height:15px;width:15px;border-radius:50%;box-shadow:0 0 10px #000;margin-top:-5px;margin-left:-10px}\n"],encapsulation:2}),i})(),ce=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[g.ez,b]}),i})(),U=(()=>{class i{constructor(e,s,r,o){this.API=s,this.fsAPI=r,this.controlsHidden=o,this.vgSkipIfControlsHidden=!1,this.vgSkipIfControlsHiddenDelay=.5,this.isNativeFullscreen=!1,this.areControlsHidden=!1,this.areControlsHiddenChangeTime=0,this.subscriptions=[],this.isBuffering=!1,this.elem=e.nativeElement}ngOnInit(){this.API.isPlayerReady?this.onPlayerReady():this.subscriptions.push(this.API.playerReadyEvent.subscribe(()=>this.onPlayerReady()))}onPlayerReady(){this.target=this.API.getMediaById(this.vgFor),this.subscriptions.push(this.fsAPI.onChangeFullscreen.subscribe(this.onChangeFullscreen.bind(this))),this.subscriptions.push(this.controlsHidden.isHidden.subscribe(this.onHideControls.bind(this))),this.subscriptions.push(this.target.subscriptions.bufferDetected.subscribe(e=>this.onUpdateBuffer(e)))}onUpdateBuffer(e){this.isBuffering=e}onChangeFullscreen(e){this.fsAPI.nativeFullscreen&&(this.isNativeFullscreen=e)}onHideControls(e){this.vgSkipIfControlsHidden&&this.areControlsHidden!=e&&(this.areControlsHiddenChangeTime=Date.now()),this.areControlsHidden=e}onClick(){if(!this.vgSkipIfControlsHidden||!(this.areControlsHidden||Date.now()-this.areControlsHiddenChangeTime<1e3*this.vgSkipIfControlsHiddenDelay))switch(this.getState()){case c.VG_PLAYING:this.target.pause();break;case c.VG_PAUSED:case c.VG_ENDED:this.target.play()}}getState(){let e=c.VG_PAUSED;if(this.target)if(this.target.state instanceof Array){for(let s=0,r=this.target.state.length;s<r;s++)if(this.target.state[s]===c.VG_PLAYING){e=c.VG_PLAYING;break}}else e=this.target.state;return e}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.SBq),t.Y36(d),t.Y36(y),t.Y36(f))},i.\u0275cmp=t.Xpm({type:i,selectors:[["vg-overlay-play"]],hostVars:2,hostBindings:function(e,s){1&e&&t.NdJ("click",function(){return s.onClick()}),2&e&&t.ekj("is-buffering",s.isBuffering)},inputs:{vgFor:"vgFor",vgSkipIfControlsHidden:"vgSkipIfControlsHidden",vgSkipIfControlsHiddenDelay:"vgSkipIfControlsHiddenDelay"},decls:2,vars:6,consts:[[1,"vg-overlay-play"],[1,"overlay-play-container"]],template:function(e,s){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"div",1),t.qZA()),2&e&&(t.ekj("native-fullscreen",s.isNativeFullscreen)("controls-hidden",s.areControlsHidden),t.xp6(1),t.ekj("vg-icon-play_arrow","playing"!==s.getState()))},styles:["vg-overlay-play{z-index:200}vg-overlay-play.is-buffering{display:none}vg-overlay-play .vg-overlay-play{transition:all .5s;cursor:pointer;position:absolute;display:block;color:#fff;width:100%;height:100%;font-size:80px;filter:alpha(opacity=60);opacity:.6}vg-overlay-play .vg-overlay-play.native-fullscreen.controls-hidden{cursor:none}vg-overlay-play .vg-overlay-play .overlay-play-container.vg-icon-play_arrow{pointer-events:none;width:100%;height:100%;position:absolute;display:flex;align-items:center;justify-content:center;font-size:80px}vg-overlay-play .vg-overlay-play:hover{filter:alpha(opacity=100);opacity:1}vg-overlay-play .vg-overlay-play:hover .overlay-play-container.vg-icon-play_arrow:before{transform:scale(1.2)}\n"],encapsulation:2}),i})(),de=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[g.ez,b]}),i})(),$=(()=>{class i{constructor(e,s){this.API=s,this.checkInterval=50,this.currentPlayPos=0,this.lastPlayPos=0,this.subscriptions=[],this.isBuffering=!1,this.elem=e.nativeElement}ngOnInit(){this.API.isPlayerReady?this.onPlayerReady():this.subscriptions.push(this.API.playerReadyEvent.subscribe(()=>this.onPlayerReady()))}onPlayerReady(){this.target=this.API.getMediaById(this.vgFor),this.subscriptions.push(this.target.subscriptions.bufferDetected.subscribe(e=>this.onUpdateBuffer(e)))}onUpdateBuffer(e){this.isBuffering=e}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.SBq),t.Y36(d))},i.\u0275cmp=t.Xpm({type:i,selectors:[["vg-buffering"]],hostVars:2,hostBindings:function(e,s){2&e&&t.ekj("is-buffering",s.isBuffering)},inputs:{vgFor:"vgFor"},decls:3,vars:0,consts:[[1,"vg-buffering"],[1,"bufferingContainer"],[1,"loadingSpinner"]],template:function(e,s){1&e&&(t.TgZ(0,"div",0)(1,"div",1),t._UZ(2,"div",2),t.qZA()())},styles:["vg-buffering{display:none;z-index:201}vg-buffering.is-buffering{display:block}.vg-buffering{position:absolute;display:block;width:100%;height:100%}.vg-buffering .bufferingContainer{width:100%;position:absolute;cursor:pointer;top:50%;margin-top:-50px;zoom:1;filter:alpha(opacity=60);opacity:.6}.vg-buffering .loadingSpinner{background-color:#0000;border:5px solid rgba(255,255,255,1);opacity:.9;border-top:5px solid rgba(0,0,0,0);border-left:5px solid rgba(0,0,0,0);border-radius:50px;box-shadow:0 0 35px #fff;width:50px;height:50px;margin:0 auto;-moz-animation:spin .5s infinite linear;-webkit-animation:spin .5s infinite linear}.vg-buffering .loadingSpinner .stop{-webkit-animation-play-state:paused;-moz-animation-play-state:paused}\n"],encapsulation:2}),i})(),he=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[g.ez,b]}),i})();function ge(i,n){if(1&i){const e=t.EpF();t.TgZ(0,"li",8),t.NdJ("click",function(){const r=t.CHM(e),o=r.$implicit,a=r.index,p=t.oxw();return t.KtG(p.startPlaylistVdo(o,a))}),t._uU(1),t.qZA()}if(2&i){const e=n.$implicit,s=t.oxw();t.ekj("selected",e===s.currentVideo),t.xp6(1),t.hij(" ",e.name," ")}}const pe=[{path:"",component:B,data:{breadcrumb:""},children:[{path:":id",component:(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-video-player"]],decls:23,vars:1,consts:[[1,"video-player-wrapper"],["vgProperty","current","vgFormat","mm:ss"],[2,"pointer-events","none"],["vgProperty","left","vgFormat","mm:ss"],["vgProperty","total","vgFormat","mm:ss"],["id","singleVideo","preload","metadata","crossorigin","",3,"vgMedia"],["media",""],["src","https://localhost:5001/api/Videos","type","video/mp4"]],template:function(e,s){if(1&e&&(t.TgZ(0,"div",0)(1,"h2"),t._uU(2,"Angular Video Player with Controls Example"),t.qZA(),t.TgZ(3,"vg-player"),t._UZ(4,"vg-overlay-play")(5,"vg-buffering"),t.TgZ(6,"vg-scrub-bar"),t._UZ(7,"vg-scrub-bar-current-time")(8,"vg-scrub-bar-buffering-time"),t.qZA(),t.TgZ(9,"vg-controls"),t._UZ(10,"vg-play-pause")(11,"vg-playback-button")(12,"vg-time-display",1)(13,"vg-scrub-bar",2)(14,"vg-time-display",3)(15,"vg-time-display",4)(16,"vg-track-selector")(17,"vg-mute")(18,"vg-volume")(19,"vg-fullscreen"),t.qZA(),t.TgZ(20,"video",5,6),t._UZ(22,"source",7),t.qZA()()()),2&e){const r=t.MAs(21);t.xp6(20),t.Q6J("vgMedia",r)}},dependencies:[v,O,V,k,G,_,A,S,M,D,T,w,E,U,$]}),i})(),data:{breadcrumb:"Video Player"}},{path:"play-list",component:B,data:{breadcrumb:"Play Lists"}},{path:"play-list/:id",component:(()=>{class i{constructor(){this.videoItems=[{name:"Video one",src:"http://static.videogular.com/assets/videos/videogular.mp4",type:"video/mp4"},{name:"Video two",src:"http://static.videogular.com/assets/videos/big_buck_bunny_720p_h264.mov",type:"video/mp4"},{name:"Video three",src:"http://static.videogular.com/assets/videos/elephants-dream.mp4",type:"video/mp4"}],this.activeIndex=0,this.currentVideo=this.videoItems[this.activeIndex]}ngOnInit(){}videoPlayerInit(e){this.data=e,this.data.getDefaultMedia().subscriptions.loadedMetadata.subscribe(this.initVdo.bind(this)),this.data.getDefaultMedia().subscriptions.ended.subscribe(this.nextVideo.bind(this))}nextVideo(){this.activeIndex++,this.activeIndex===this.videoItems.length&&(this.activeIndex=0),this.currentVideo=this.videoItems[this.activeIndex]}initVdo(){this.data.play()}startPlaylistVdo(e,s){this.activeIndex=s,this.currentVideo=e}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-vdo-player"]],decls:19,vars:3,consts:[[1,"video-player-wrapper"],[3,"onPlayerReady"],["vgProperty","current","vgFormat","mm:ss"],["vgProperty","total","vgFormat","mm:ss"],["id","singleVideo","preload","auto","crossorigin","",3,"vgMedia","src"],["media",""],[1,"player-list"],[3,"selected","click",4,"ngFor","ngForOf"],[3,"click"]],template:function(e,s){if(1&e&&(t.TgZ(0,"div",0)(1,"vg-player",1),t.NdJ("onPlayerReady",function(o){return s.videoPlayerInit(o)}),t._UZ(2,"vg-overlay-play")(3,"vg-buffering"),t.TgZ(4,"vg-scrub-bar"),t._UZ(5,"vg-scrub-bar-current-time")(6,"vg-scrub-bar-buffering-time"),t.qZA(),t.TgZ(7,"vg-controls"),t._UZ(8,"vg-play-pause")(9,"vg-playback-button")(10,"vg-time-display",2)(11,"vg-time-display",3)(12,"vg-mute")(13,"vg-volume")(14,"vg-fullscreen"),t.qZA(),t._UZ(15,"video",4,5),t.qZA(),t.TgZ(17,"ul",6),t.YNc(18,ge,2,3,"li",7),t.qZA()()),2&e){const r=t.MAs(16);t.xp6(15),t.Q6J("vgMedia",r)("src",s.currentVideo.src,t.LSH),t.xp6(3),t.Q6J("ngForOf",s.videoItems)}},dependencies:[g.sg,v,O,V,k,_,A,S,M,D,T,w,E,U,$],styles:[".video-player-wrapper[_ngcontent-%COMP%]{max-width:800px;text-align:center;margin:0 auto}.player-list[_ngcontent-%COMP%]{margin:0;padding:0}.player-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none;padding:15px 35px;display:block;background:rgba(204,204,204,.8);cursor:pointer;text-align:left;margin-bottom:1px}li.selected[_ngcontent-%COMP%]{background:#03A9F4!important}"]}),i})(),data:{breadcrumb:"Play Lists"}}]}];let fe=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[I.Bz.forChild(pe),I.Bz]}),i})(),me=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[g.ez,fe,b,ce,de,he]}),i})()}}]);